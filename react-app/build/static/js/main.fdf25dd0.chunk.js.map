{"version":3,"sources":["store/session.js","components/auth/LoginForm.js","components/auth/SignUpForm.js","components/auth/LogoutButton.js","store/user.js","store/message.js","store/search.js","components/Search/index.js","store/product.js","components/NavBar.js","components/auth/ProtectedRoute.js","components/UsersList.js","components/User.js","components/CreateProductForm/index.js","components/AllProductsPage/SingleProduct.js","components/AllProductsPage/AllProducts.js","context/EditProductContext.js","components/EditProductForm/EditProduct.js","store/review.js","context/EditReviewContext.js","components/EditReviewForm/index.js","components/SingleReview/index.js","components/CreateReviewForm/index.js","components/DirectMessage/DirectMessage.js","store/maps.js","components/Maps/maps.js","components/Maps/index.js","components/OneProductPage/index.js","components/LandingPage/LandingPage.js","components/Search/SearchResults.js","App.js","store/index.js","index.js"],"names":["SET_USER","REMOVE_USER","setUser","user","type","payload","initialState","login","email","password","dispatch","a","fetch","method","headers","body","JSON","stringify","response","ok","json","data","status","errors","signUp","username","LoginForm","useState","setErrors","setEmail","setPassword","useSelector","state","session","useDispatch","onLogin","e","preventDefault","to","className","onSubmit","map","error","ind","htmlFor","name","placeholder","value","onChange","target","style","textDecoration","color","SignUpForm","setUsername","repeatPassword","setRepeatPassword","onSignUp","required","marginLeft","LogoutButton","onLogout","onClick","LOAD_USERS","loadUsers","users","getUsers","userReducer","action","newState","forEach","id","LOAD_MESSAGES","ADD_MESSAGE","loadMessages","messages","addMessage","message","createMessage","messageReducer","SET_SEARCH","setSearch","products","getQuery","queryString","city","res","searchData","console","log","productsCategory","productsByCategory","searchReducer","Search","history","useHistory","searchInput","setSearchInput","location","setLocation","push","class","ADD_PRODUCT","LOAD_PRODUCTS","DELETE_PRODUCT","addProduct","product","loadProducts","deleteProduct","productId","getProducts","createProduct","sellerId","file","description","price","category","lng","lat","form","FormData","append","editProduct","updatedProduct","removeProduct","productReducer","NavBar","sessionUser","allProducts","Object","values","mediaProducts","filter","homeProducts","clothesProducts","onClickC2","onClickC3","useEffect","allUsers","fontSize","textAlign","src","profilePic","height","width","borderRadius","display","justifyContent","href","rel","marginRight","exact","activeClassName","ProtectedRoute","props","children","UsersList","setUsers","responseData","fetchData","userComponents","User","userId","useParams","CreateProductForm","setName","image","setImage","setDescription","setPrice","setCategory","validationErrors","setValidationErrors","setLng","setLat","validate","length","handleSubmit","marginTop","accept","files","SingleProduct","objectFit","boxShadow","fontWeight","lineHeight","slice","AllProducts","productsArr","EditProductContext","createContext","useEditProductForm","useContext","EditProductFormProvider","editForm","setEditForm","Provider","EditProductForm","currentProduct","marginBottom","ADD_REVIEW","LOAD_REVIEWS","DELETE_REVIEW","addReview","review","loadReviews","reviews","deleteReview","reviewId","createReview","removeReview","editReview","updatedReview","reviewReducer","EditReviewContext","EditReviewFormProvider","editReviewForm","setEditReviewForm","EditReviewForm","seteditReview","currentReview","rating","setRating","comment","setComment","reviewerId","revieweeId","rate","ratingValue","SingleReview","editreview","currentUserId","onClickDelete","inlineSize","size","border","borderColor","backgroundColor","CreateReviewForm","DirectMessage","messageInput","setMessageInput","senderId","receiverId","getMessages","Date","createdAt","toLocaleString","alignItems","vh","position","zIndex","LOAD_API_KEY","key","mapsReducer","Maps","apiKey","GMapSetting","isLoaded","useJsApiLoader","googleMapsApiKey","center","mapContainerStyle","zoom","React","memo","MapContainer","maps","OneProductPage","setChatForm","getReviews","productSeller","sesseionUser","gridTemplateColumns","EditProduct","flexDirection","sold","bought","LandingPage","sessionActions","cursor","fill","borderBottom","paddingBottom","rowGap","columnGap","SearchResults","search","App","enhancer","loaded","setLoaded","path","rootReducer","combineReducers","applyMiddleware","thunk","store","preloadedState","createStore","configureStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fdf25dd0.chunk.js","sourcesContent":["// constants\r\nconst SET_USER = 'session/SET_USER';\r\nconst REMOVE_USER = 'session/REMOVE_USER';\r\n\r\nconst setUser = (user) => ({\r\n  type: SET_USER,\r\n  payload: user\r\n});\r\n\r\nconst removeUser = () => ({\r\n  type: REMOVE_USER,\r\n})\r\n\r\nconst initialState = { user: null };\r\n\r\nexport const authenticate = () => async (dispatch) => {\r\n  const response = await fetch('/api/auth/', {\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  });\r\n  if (response.ok) {\r\n    const data = await response.json();\r\n    if (data.errors) {\r\n      return;\r\n    }\r\n  \r\n    dispatch(setUser(data));\r\n  }\r\n}\r\n\r\nexport const login = (email, password) => async (dispatch) => {\r\n  const response = await fetch('/api/auth/login', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      email,\r\n      password\r\n    })\r\n  });\r\n  \r\n  \r\n  if (response.ok) {\r\n    const data = await response.json();\r\n    dispatch(setUser(data))\r\n    return null;\r\n  } else if (response.status < 500) {\r\n    const data = await response.json();\r\n    if (data.errors) {\r\n      return data.errors;\r\n    }\r\n  } else {\r\n    return ['An error occurred. Please try again.']\r\n  }\r\n\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  const response = await fetch('/api/auth/logout', {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    }\r\n  });\r\n\r\n  if (response.ok) {\r\n    dispatch(removeUser());\r\n  }\r\n};\r\n\r\n\r\nexport const signUp = (username, email, password) => async (dispatch) => {\r\n  const response = await fetch('/api/auth/signup', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      username,\r\n      email,\r\n      password,\r\n    }),\r\n  });\r\n  \r\n  if (response.ok) {\r\n    const data = await response.json();\r\n    dispatch(setUser(data))\r\n    return null;\r\n  } else if (response.status < 500) {\r\n    const data = await response.json();\r\n    if (data.errors) {\r\n      return data.errors;\r\n    }\r\n  } else {\r\n    return ['An error occurred. Please try again.']\r\n  }\r\n}\r\n\r\nexport default function reducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_USER:\r\n      return { user: action.payload }\r\n    case REMOVE_USER:\r\n      return { user: null }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { login } from '../../store/session';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst LoginForm = () => {\r\n  const [errors, setErrors] = useState([]);\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const user = useSelector(state => state.session.user);\r\n  const dispatch = useDispatch();\r\n\r\n  const onLogin = async (e) => {\r\n    e.preventDefault();\r\n    const data = await dispatch(login(email, password));\r\n    if (data) {\r\n      setErrors(data);\r\n    }\r\n  };\r\n\r\n  const updateEmail = (e) => {\r\n    setEmail(e.target.value);\r\n  };\r\n\r\n  const updatePassword = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n\r\n  if (user) {\r\n    return <Redirect to='/' />;\r\n  }\r\n\r\n  return (\r\n    <div className='authwrapper'>\r\n      <div className='AuthContainer'>\r\n        <div className=\"AuthAttribute\">Login</div>\r\n        <div className=\"logo\">OfferGram</div>\r\n        <form onSubmit={onLogin}>\r\n          <div>\r\n            {errors.map((error, ind) => (\r\n              <div key={ind}>{error}</div>\r\n            ))}\r\n          </div>\r\n          <div className='container1'>\r\n            <label htmlFor='email'>Email</label>\r\n            <input\r\n              name='email'\r\n              type='text'\r\n              placeholder='Email'\r\n              value={email}\r\n              onChange={updateEmail}\r\n            />\r\n          </div>\r\n          <div className='container1'>\r\n            <label htmlFor='password'>Password</label>\r\n            <input\r\n              name='password'\r\n              type='password'\r\n              placeholder='Password'\r\n              value={password}\r\n              onChange={updatePassword}\r\n            />\r\n            <div className=\"loginLink\"><NavLink to=\"sign-up\" style={{textDecoration:'none', color: '#00a87e'}}>Don't have an account? Sign Up</NavLink></div>\r\n            <button type='submit' className='buttonauth'>Login</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { NavLink, Redirect } from 'react-router-dom';\r\nimport { signUp } from '../../store/session';\r\nimport './auth.css'\r\n\r\n\r\nconst SignUpForm = () => {\r\n  const [errors, setErrors] = useState([]);\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [repeatPassword, setRepeatPassword] = useState('');\r\n  const user = useSelector(state => state.session.user);\r\n  const dispatch = useDispatch();\r\n\r\n  const onSignUp = async (e) => {\r\n    e.preventDefault();\r\n    if (password === repeatPassword) {\r\n      const data = await dispatch(signUp(username, email, password));\r\n      if (data) {\r\n        setErrors(data)\r\n      }\r\n    }\r\n  };\r\n\r\n  const updateUsername = (e) => {\r\n    setUsername(e.target.value);\r\n  };\r\n\r\n  const updateEmail = (e) => {\r\n    setEmail(e.target.value);\r\n  };\r\n\r\n  const updatePassword = (e) => {\r\n    setPassword(e.target.value);\r\n  };\r\n\r\n  const updateRepeatPassword = (e) => {\r\n    setRepeatPassword(e.target.value);\r\n  };\r\n\r\n  if (user) {\r\n    return <Redirect to='/' />;\r\n  }\r\n\r\n  return (\r\n    <div className='authwrapper'>\r\n    <div className=\"AuthContainer\">\r\n    <div className=\"AuthAttribute\">Sign Up</div>\r\n    <div className=\"logo\">OfferGram</div>\r\n    <form onSubmit={onSignUp}>\r\n      <div>\r\n        {errors.map((error, ind) => (\r\n          <div key={ind}>{error}</div>\r\n        ))}\r\n      </div>\r\n      <div className=\"container1\">\r\n        <label className=\"label1\">User Name</label>\r\n        <input\r\n          type='text'\r\n          name='username'\r\n          onChange={updateUsername}\r\n          value={username}\r\n        ></input>\r\n      </div>\r\n      <div className=\"container1\">\r\n        <label className=\"label1\">Email</label>\r\n        <input\r\n          type='text'\r\n          name='email'\r\n          onChange={updateEmail}\r\n          value={email}\r\n        ></input>\r\n      </div>\r\n      <div className=\"container1\">\r\n        <label className=\"label1\">Password</label>\r\n        <input\r\n          className=\"inputauth\"\r\n          type='password'\r\n          name='password'\r\n          onChange={updatePassword}\r\n          value={password}\r\n        ></input>\r\n      </div>\r\n      <div className=\"container1\">\r\n        <label className=\"label1\">Repeat Password</label>\r\n        <input\r\n          type='password'\r\n          name='repeat_password'\r\n          onChange={updateRepeatPassword}\r\n          value={repeatPassword}\r\n          required={true}\r\n        ></input>\r\n      </div>\r\n      <div className=\"loginLink\"><NavLink to=\"login\" style={{textDecoration:'none', color: '#00a87e'}}>Already have an account? Log in</NavLink></div>\r\n      <button type='submit'className=\"buttonauth\" style={{marginLeft:'10%'}}>Sign Up</button>\r\n    </form>\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUpForm;\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { logout } from '../../store/session';\r\n\r\nconst LogoutButton = () => {\r\n  const dispatch = useDispatch()\r\n  const onLogout = async (e) => {\r\n    await dispatch(logout());\r\n  };\r\n\r\n  return <button onClick={onLogout}>Logout</button>;\r\n};\r\n\r\nexport default LogoutButton;\r\n","const LOAD_USERS = 'user/loadUsers'\r\n\r\nconst loadUsers = (users) => ({\r\n    type: LOAD_USERS,\r\n    users,\r\n})\r\n\r\nexport const getUsers = () => async (dispatch) => {\r\n    const response = await fetch(`/api/users/`)\r\n    const users = await response.json();\r\n    \r\n    dispatch(loadUsers(users.users))\r\n}\r\n\r\nconst initialState={}\r\nconst userReducer=(state=initialState, action)=>{\r\n    switch (action.type) {\r\n        case LOAD_USERS:\r\n            let newState = {...state};\r\n            \r\n            (action.users).forEach(user => {\r\n                newState[user.id] = user;\r\n            });\r\n            return newState;\r\n        \r\n\r\n        default:\r\n        return state;\r\n    }\r\n}\r\n\r\nexport default userReducer","const LOAD_MESSAGES='message/loadMessages'\r\nconst ADD_MESSAGE='message/addMessage'\r\n\r\nconst loadMessages=(messages)=>({\r\n    type: LOAD_MESSAGES,\r\n    messages\r\n})\r\n\r\nconst addMessage=(message)=>({\r\n    type: ADD_MESSAGE,\r\n    message\r\n})\r\n\r\nexport const getMessages=(senderId, receiverId)=>async(dispatch)=>{\r\n    const response=await fetch(`/api/messages/sender/${senderId}/receiver/${receiverId}`)\r\n    if(response.ok) {\r\n\r\n        const messages=await response.json()\r\n        dispatch(loadMessages(messages.messages))\r\n        return messages\r\n    }\r\n}\r\n\r\nexport const createMessage=(payload)=>async(dispatch)=>{\r\n    const response= await fetch(`/api/messages/`, {\r\n        method: 'POST',\r\n        headers: {'Content-Type': 'application/json'},\r\n        body: JSON.stringify(payload)\r\n    })\r\n\r\n    if(response.ok) {\r\n        const message=await response.json()\r\n        dispatch(addMessage(message))\r\n        return message\r\n    }\r\n}\r\n\r\nconst initialState={}\r\nconst messageReducer=(state=initialState,action)=>{\r\n    switch(action.type) {\r\n        case LOAD_MESSAGES: {\r\n            const newState={};\r\n            (action.messages).forEach(message=>{\r\n                newState[message.id]=message\r\n            })\r\n            return newState\r\n        }\r\n        case ADD_MESSAGE: {\r\n            const newState={...state}\r\n            newState[action.message.id]=action.message\r\n            return newState\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default messageReducer","const SET_SEARCH='search/setSearch'\r\n\r\nconst setSearch=(products)=>({\r\n    type: SET_SEARCH,\r\n    products,\r\n})\r\n\r\nexport const getQuery=(queryString, city)=>async(dispatch)=>{\r\n    const res= await fetch(`/api/search?query=${queryString}${city ? `&city= ${city}` : \"\"}` )\r\n    const data=await res.json()\r\n    const searchData={}\r\n\r\n    searchData.products=data.products || []\r\n    console.log('!!!!!!!!!!!!!!!!!!!!!!!!!',searchData)\r\n    dispatch(setSearch(searchData))\r\n   \r\n    return data.products\r\n}\r\n\r\nexport const productsCategory=(productsByCategory)=>(dispatch)=>{\r\n\r\n  const searchData={}\r\n  searchData.products=productsByCategory\r\n\r\n  dispatch(setSearch(searchData))\r\n  \r\n}\r\n\r\nconst initialState = {\r\n    products:[]\r\n  };\r\n\r\nconst searchReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n      case SET_SEARCH:\r\n         \r\n        return {products:action.products};\r\n       \r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  \r\n  export default searchReducer;","import { useState, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nimport { getQuery } from \"../../store/search\";\r\n// import { useSearchContext } from \"../../context/SearchContext\";\r\n\r\nfunction Search() {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const [searchInput, setSearchInput] = useState(\"\");\r\n    const [location, setLocation] = useState(\"\");\r\n    \r\n    const updateSearchInput = (e) => {\r\n        setSearchInput(e.target.value);\r\n      };\r\n      \r\n    const updateLocation=(e)=>{\r\n        setLocation(e.target.value)\r\n    }\r\n\r\n    const onSubmit=async(e)=>{\r\n        e.preventDefault()\r\n        await dispatch(getQuery(searchInput,location))\r\n        history.push(`/search?query=${searchInput}`)\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <form onSubmit={onSubmit}>\r\n            <input\r\n            type='text'\r\n            value={searchInput}\r\n            placeholder='search here'\r\n            onChange={updateSearchInput}\r\n           \r\n            className='search-bar'\r\n            />\r\n\r\n            <select\r\n            value={location}\r\n            onChange={updateLocation}\r\n           \r\n            className='search-select'\r\n            >\r\n                <option value='' > -- select a city -- </option>\r\n                <option value='Los Angeles'>Los Angeles</option>\r\n                <option value='New York City'>New York City</option>\r\n            </select>\r\n\r\n            <button className='search-button'>\r\n                \r\n                <i class=\"fas fa-search\"></i>\r\n            </button>\r\n           \r\n        </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Search","const ADD_PRODUCT='product/addProduct'\r\nconst LOAD_PRODUCTS='product/loadProducts'\r\nconst DELETE_PRODUCT='product/deleteProduct'\r\n\r\nconst addProduct=(product)=>({\r\n    type: ADD_PRODUCT,\r\n    product\r\n})\r\n\r\nconst loadProducts=(products)=>({\r\n    type: LOAD_PRODUCTS,\r\n    products\r\n})\r\n\r\n\r\n\r\nconst deleteProduct=(productId)=>({\r\n    type: DELETE_PRODUCT,\r\n    productId\r\n})\r\n\r\n\r\n\r\nexport const getProducts=()=>async(dispatch)=>{\r\n    const response=await fetch('/api/products/')\r\n    const products=await response.json()\r\n  \r\n    dispatch(loadProducts(products.products))\r\n    return products\r\n}\r\n\r\nexport const createProduct=(payload)=>async(dispatch)=>{\r\n    const {sellerId,name,file,location,description,price,category,lng,lat}=payload\r\n    const form= new FormData();\r\n    form.append('sellerId', sellerId)\r\n    form.append('name', name)\r\n    form.append('file',file)\r\n    form.append('location', location)\r\n    form.append('description', description)\r\n    form.append('price', price)\r\n    form.append('category', category)\r\n    form.append('lng', lng)\r\n    form.append('lat', lat)\r\n\r\n    const response=await fetch(`/api/products/`, {\r\n        method: 'POST',\r\n        body: form,\r\n        \r\n    })\r\n    \r\n    if (response.ok) {\r\n        const product=await response.json()\r\n      \r\n        dispatch(addProduct(product))\r\n       \r\n        return product\r\n    }\r\n\r\n  \r\n}\r\n\r\nexport const editProduct=(payload,productId)=>async(dispatch)=>{\r\n    const response= await fetch(`/api/products/${productId}/edit`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload),\r\n    })\r\n    const updatedProduct=await response.json()\r\n    dispatch(addProduct(updatedProduct))\r\n    return updatedProduct\r\n}\r\n\r\nexport const removeProduct=(productId)=>async(dispatch)=>{\r\n    let id= +productId\r\n    const response=await fetch(`/api/products/${productId}`,{\r\n        method: 'DELETE'\r\n    })\r\n    if(response.ok) {\r\n        const product=await response.json()\r\n        dispatch(deleteProduct(product.id))\r\n    }\r\n    return response\r\n}\r\n\r\nconst initialState={}\r\nconst productReducer=(state=initialState, action)=>{\r\n    switch(action.type) {\r\n        case LOAD_PRODUCTS: {\r\n            const newState={...state};\r\n            (action.products).forEach(product=>{\r\n                newState[product.id]=product\r\n            })\r\n            return newState\r\n        }\r\n        case ADD_PRODUCT: {\r\n            const newState={...state}\r\n            newState[action.product.id]=action.product\r\n        }\r\n\r\n        case DELETE_PRODUCT:{\r\n            const newState={...state}\r\n            delete newState[action.productId]\r\n            return {...newState}\r\n        }\r\n      \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default productReducer","import React from 'react';\r\nimport { NavLink , useHistory} from 'react-router-dom';\r\nimport LogoutButton from './auth/LogoutButton';\r\nimport './NavBar.css'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport * as sessionActions from \"../store/session\"\r\nimport { useState } from 'react';\r\n\r\nimport { useEffect } from 'react';\r\nimport { getUsers } from '../store/user';\r\nimport { getMessages } from '../store/message';\r\nimport Search from '../components/Search';\r\nimport loadProducts from '../store/product'\r\nimport { getQuery, productsCategory } from '../store/search';\r\n\r\nconst NavBar = () => {\r\n  const history=useHistory()\r\n  const sessionUser=useSelector(state=>state.session.user)\r\n  const [msgList, setMsgList]=useState(false)\r\n  const dispatch=useDispatch()\r\n  const allProducts=useSelector(state=>Object.values(state.product))\r\n  const mediaProducts=allProducts.filter(product=>product.category==='Electronics & Media')\r\n  const homeProducts=allProducts.filter(product=>product.category==='Home & Garden')\r\n  const clothesProducts=allProducts.filter(product=>product.category==='Clothing,Shoes,& Accessories')\r\n \r\n  \r\n  \r\n  const onClick=async(e)=>{\r\n    e.preventDefault()\r\n    await dispatch(productsCategory(mediaProducts))\r\n    history.push(`/search`)\r\n}\r\n\r\n\r\n  const onClickC2=async(e)=>{\r\n    e.preventDefault()\r\n    await dispatch(productsCategory(homeProducts))\r\n    history.push(`search`)\r\n  }\r\n \r\n  const onClickC3=async(e)=>{\r\n    e.preventDefault()\r\n    await dispatch(productsCategory(clothesProducts))\r\n    history.push(`search`)\r\n  }\r\n  // const searchHome=async()=>{\r\n  //   await dispatch(loadProducts(homeProducts))\r\n  //   history.push(`/search?query=${Home & Garden}`)\r\n  // }\r\n\r\n  // const searchClothes=async()=>{\r\n  //   await dispatch(loadProducts(clothesProducts))\r\n  //   history.push(`/search?query=${Clothing,Shoes,& Accessories}`)\r\n  // }\r\n\r\n  useEffect(()=>{\r\n    dispatch(getUsers())\r\n    \r\n},[dispatch])\r\n\r\n  const allUsers=useSelector(state=>Object.values(state.user))\r\n\r\n  // const onClick = (e) => {\r\n  //   e.preventDefault();\r\n  //   return dispatch(sessionActions.login('demo@aa.io', 'password'))\r\n\r\n  // }\r\n\r\n\r\n  return (\r\n   \r\n    <nav >\r\n      \r\n        <div className='navContainer'>\r\n          <div className='upper-nav'>\r\n            <div className='logo'>\r\n              <NavLink to='/'style={{textDecoration:'none', color:'rgb(0, 168, 126)'}}>OfferGram</NavLink>\r\n            </div>\r\n            {/* <div className='searchContainer'>\r\n            <div><input placeholder='search'></input><button type=\"submit\" style={{backgroundColor:'#00a87e', border: 'none', borderRadius:'10%'}}><i className=\"fa fa-search\" style={{color: 'white'}}></i></button></div>\r\n            <div><select> <option   value=''> -- select a city -- </option><option value='Los Angels'>Los Angels</option><option value=\"New York City\">New York City</option></select></div>\r\n            </div> */}\r\n          \r\n            {sessionUser ? (\r\n            <>\r\n                <Search />\r\n                <div className='rightNav'>\r\n                    <div className='sellNav'>\r\n                        <i className=\"fas fa-funnel-dollar\"></i>\r\n                        <NavLink to='/selling'style={{textDecoration:'none',fontSize:'20px', color: 'rgb(0, 168, 126)'}}>Selling</NavLink>\r\n                    </div>\r\n                    <div className='dropdown'>\r\n                        <i className=\"fas fa-envelope-open-text\" ></i>\r\n                        <span  className='dropbtn'style={{fontSize:'20px',textAlign:'center',color: 'rgb(0, 168, 126)'}}>Message</span>\r\n                        <div style={{fontSize:'10px'}} className='contentDropdown'>\r\n                        {allUsers?.map((user,ind)=>(\r\n                          <div key={ind}><NavLink to={`/messages/sender/${sessionUser.id}/receiver/${user.id}`}>{user.username}</NavLink></div>\r\n                        ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* <div>welcome {sessionUser?.username}</div> */}\r\n                    \r\n                    <div className='dropdown'>\r\n                        <img className='dropbtn' src={(sessionUser?.profilePic)} style={{height:\"40px\",width:'40px', borderRadius:'50%'}} />\r\n                        <div className='contentDropdown'><div>{sessionUser?.username}</div><LogoutButton /></div>\r\n                    </div>\r\n                </div>\r\n            </>) : (\r\n              \r\n              <div className='rightContainer'>\r\n                {/* <button onClick={onClick} className='demoword'>Demo</button> */}\r\n                <div style={{display:'flex', justifyContent:'space-around'}}>\r\n                <a href='https://github.com/zyingzhuo' target=\"_blank\" rel='noreferrer' style={  {textDecoration:'none',marginRight:'15%', color:'#00a87e'}}>\r\n                                <i className=\"fab fa-github fa-2x tech2\" ></i>\r\n                </a>\r\n                <a href='https://www.linkedin.com/in/yingjia-zhuo-25a474170/' target=\"_blank\" rel='noreferrer' style={{  textDecoration: 'none',color:'#00a87e', marginRight:'10%' }}>\r\n                             <i className=\"fab fa-linkedin fa-2x tech2\" ></i>\r\n                </a>\r\n                </div>\r\n                <div><NavLink to='/login' exact={true} activeClassName='active' className='loginword'>Login</NavLink></div>\r\n                <div><NavLink to='/sign-up' exact={true} activeClassName='active' className='signupword'>Sign Up</NavLink></div>\r\n                \r\n              </div>\r\n              \r\n            )}\r\n          </div>\r\n          <div className='bottom-nav'>\r\n              <p3  onClick={onClick}>Electronics & Media</p3>\r\n              <p3 onClick={onClickC2}>Home & Garden</p3>\r\n              <p3 onClick={onClickC3}>Clothing,Shoes,& Accessories</p3>\r\n              <p3 >Baby&Kids</p3>\r\n              <p3 >Vehicles</p3>\r\n              <p3 >Toys,Games,&Hobbies</p3>\r\n              <p3 >Sports&Outdoors</p3>\r\n              <p3 >Collectibles&Art</p3>\r\n              <p3 >Pet supplies</p3>\r\n              <p3 >More</p3>\r\n          </div>\r\n        </div>\r\n       \r\n      \r\n      \r\n    </nav>\r\n    \r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = props => {\r\n  const user = useSelector(state => state.session.user)\r\n  return (\r\n    <Route {...props}>\r\n      {(user)? props.children  : <Redirect to='/login' />}\r\n    </Route>\r\n  )\r\n};\r\n\r\n\r\nexport default ProtectedRoute;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nfunction UsersList() {\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const response = await fetch('/api/users/');\r\n      const responseData = await response.json();\r\n      setUsers(responseData.users);\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  const userComponents = users.map((user) => {\r\n    return (\r\n      <li key={user.id}>\r\n        <NavLink to={`/users/${user.id}`}>{user.username}</NavLink>\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <h1>User List: </h1>\r\n      <ul>{userComponents}</ul>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UsersList;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nfunction User() {\r\n  const [user, setUser] = useState({});\r\n  const { userId }  = useParams();\r\n\r\n  useEffect(() => {\r\n    if (!userId) {\r\n      return;\r\n    }\r\n    (async () => {\r\n      const response = await fetch(`/api/users/${userId}`);\r\n      const user = await response.json();\r\n      setUser(user);\r\n    })();\r\n  }, [userId]);\r\n\r\n  if (!user) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <ul>\r\n      <li>\r\n        <strong>User Id</strong> {userId}\r\n      </li>\r\n      <li>\r\n        <strong>Username</strong> {user.username}\r\n      </li>\r\n      <li>\r\n        <strong>Email</strong> {user.email}\r\n      </li>\r\n      <div>review</div>\r\n    </ul>\r\n  );\r\n}\r\nexport default User;\r\n","import React, { useEffect }  from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { createProduct } from '../../store/product';\r\nimport './CreateProductForm.css'\r\n\r\n\r\nfunction CreateProductForm () {\r\n    const dispatch= useDispatch();\r\n    const history=useHistory()\r\n    const userId=useSelector(state=>state.session.user.id)\r\n\r\n   \r\n    const[name, setName]=useState('')\r\n    const[image, setImage]=useState('')\r\n    const[location, setLocation]=useState('')\r\n    const[description, setDescription]=useState('')\r\n    const[price, setPrice]=useState('')\r\n    const[category, setCategory]=useState('')\r\n    const [validationErrors, setValidationErrors]=useState([])\r\n    const [lng, setLng] = useState(1);\r\n\t  const [lat, setLat] = useState(1);\r\n\r\n    const validate=()=>{\r\n      const validationErrors=[]\r\n      if(name.length>50) validationErrors.push('name must be less than 50 characters');\r\n      if(price<0) validationErrors.push('price must be greater than 0')\r\n      return validationErrors\r\n    }\r\n\r\n    const handleSubmit= async(e)=>{\r\n        e.preventDefault();\r\n     \r\n        const payload={\r\n            sellerId: userId,\r\n            name,\r\n            file:image,\r\n            location,\r\n            description,\r\n            price,\r\n            category,\r\n            lat,\r\n            lng\r\n        }\r\n        \r\n        const errors=validate();\r\n        if(errors.length>0) {\r\n          setValidationErrors(errors)\r\n        } else {\r\n          setValidationErrors([])\r\n        const product=await dispatch(createProduct(payload));\r\n        if(product) {\r\n         \r\n            history.push(`/products/${product.id}`)\r\n        }\r\n      }\r\n        // if (!product) {\r\n        //   setErrors(product);\r\n        // } else {\r\n        //   history.push(`/products/${product.id}`)\r\n        // }\r\n      };\r\n    \r\n\r\n\r\n    return (\r\n      <>\r\n      {validationErrors.length>0 && (\r\n        <div className='errors'>\r\n          <p>The following errors were found:</p>\r\n          <ul style={{textDecoration:'none'}}>\r\n            {validationErrors.map(error=><li className='error-list'>{error}</li>)}\r\n          </ul>\r\n        </div>\r\n      )}\r\n      <form onSubmit={handleSubmit} style={{marginTop:'5%'}} className='product-form'>\r\n        \r\n              <div className='createProductContainer' >\r\n                  \r\n                      <label >\r\n                        Product Title\r\n                      </label>\r\n                      <input\r\n                          type=\"text\"\r\n                          value={name}\r\n                          onChange={(e) => setName(e.target.value)}\r\n                          required\r\n                          className='input-area'\r\n                      />\r\n                \r\n                \r\n                    <label >\r\n                      Product Image\r\n                      </label>\r\n                    <input\r\n                        type=\"file\"\r\n                        accept='image/*'\r\n                        // value={image}\r\n                        onChange={(e) => setImage(e.target.files[0])}\r\n                        required\r\n                      />\r\n                \r\n                \r\n                  <label >\r\n                    location\r\n                    </label>\r\n                  <select value={location} onChange={(e)=>setLocation(e.target.value)}  className='input-area'>\r\n                      <option  value='' > -- select a city -- </option>\r\n                      <option value=\"Los Angeles\">Los Angeles</option>\r\n                      <option value=\"New York City\">New York City</option>\r\n                    </select>\r\n                \r\n                \r\n                  <label>Longtitude</label>\r\n                  <input\r\n                      type=\"number\"\r\n                      required\r\n                      value={lng}\r\n                      onChange={(e) => setLng(e.target.value)}\r\n                      className='input-area'\r\n                    />\r\n                \r\n                \r\n                  <label>Latitude</label>\r\n                  <input\r\n                      type=\"number\"\r\n                      required\r\n                      value={lat}\r\n                      onChange={(e) => setLat(e.target.value)}\r\n                      className='input-area'\r\n                    />\r\n               \r\n                \r\n                  <label >\r\n                    Description\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={description}\r\n                      onChange={(e) => setDescription(e.target.value)}\r\n                      required\r\n                      className='input-area'\r\n                    />\r\n                \r\n                  <label>\r\n                    Price\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={price}\r\n                      onChange={(e) => setPrice(e.target.value)}\r\n                      required\r\n                      className='input-area'\r\n                    />\r\n                 \r\n                  <label>\r\n                    Category\r\n                    </label>\r\n                    <select value={category} onChange={(e)=>setCategory(e.target.value)}  className='input-area'>\r\n                      <option  value=''> -- select a category -- </option>\r\n                      <option value=\"Electronics & Media\" >Electronics & Media</option>\r\n                      <option value=\"Home & Garden\"  >Home & Garden</option>\r\n                      <option value=\"Clothing,Shoes,& Accessories\"  >Clothing,Shoes,& Accessories</option>\r\n                  </select>\r\n                  \r\n                  \r\n                  <button type=\"submit\" className='submit-button' >Create your product listing</button>\r\n                </div>\r\n      \r\n    </form>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default CreateProductForm","import { getProducts } from \"../../store/product\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { useEffect } from \"react\"\r\nimport { NavLink } from \"react-router-dom\"\r\nimport'./AllProducts.css'\r\n\r\n\r\nfunction SingleProduct({product}) {\r\n   \r\n   \r\n    return (\r\n        <div className='singleProductContainer'>\r\n            \r\n            {product&&(\r\n                <>\r\n            \r\n            {/* <NavLink to={`/spots/${spot.id}`}>{spot?.name}</NavLink> */}\r\n           \r\n            {/* //{spot?.url} */}\r\n            <div >\r\n                <NavLink to={`/products/${product.id}`}>\r\n                <div className='grow'><img src={(product?.image)} style={{height:\"150px\", width:'150px', objectFit:'cover', boxShadow:'2px 2px 2px 2px lightgrey'}} /></div>\r\n                </NavLink>\r\n                <div style={{fontSize:'1em', fontWeight:'700', lineHeight:'1.5'}}>{product?.name.slice(0,14)}</div>\r\n                <div >${product?.price}</div>\r\n                <div style={{color:'#8a8a8a',lineHeight:'1.7', fontSize:'0.875em'}}>{product?.location}</div>\r\n               \r\n                \r\n            </div>\r\n          \r\n            {/* {(spot?.Images)[0].url}  */}\r\n            </>)}\r\n          \r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SingleProduct","\r\nimport * as sessionActions from '../../store/session';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { useParams } from 'react-router';\r\nimport { useState, useEffect } from 'react';\r\n\r\n\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { getProducts } from '../../store/product';\r\nimport SingleProduct from './SingleProduct';\r\nimport './AllProducts.css'\r\nimport { getMessages } from '../../store/message';\r\n\r\nconst AllProducts=()=>{\r\n\r\n\r\n    const dispatch= useDispatch()\r\n    const productsArr=useSelector(state=>Object.values(state.product))\r\n    // const sessionUser=useSelector(state=>state.session.user)\r\n\r\n    useEffect(()=>{\r\n        dispatch(getProducts())\r\n       \r\n    }, [dispatch])\r\n\r\n    return (\r\n        <div  style={{marginTop:'5%'}}>\r\n        \r\n          {!productsArr.length && <span>No products available right now.</span>}\r\n          <div className='productsContainer' >\r\n            {productsArr.map((product) => (\r\n              <SingleProduct  product={product} key={product.id} />\r\n            ))}\r\n            </div>\r\n        </div>\r\n      );\r\n}\r\n\r\nexport default AllProducts","import { createContext, useState, useContext } from \"react\";\r\n\r\nexport const EditProductContext=createContext();\r\nexport const useEditProductForm=()=>useContext(EditProductContext)\r\n\r\nexport default function EditProductFormProvider(props) {\r\n    const [editForm, setEditForm]=useState(false)\r\n\r\n    return (\r\n        <EditProductContext.Provider\r\n        value={{\r\n            editForm,\r\n            setEditForm\r\n        }}\r\n        >\r\n            {props.children}\r\n        </EditProductContext.Provider>\r\n    )\r\n}","import React, { useEffect }  from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { createProduct, getProducts } from '../../store/product';\r\nimport { useEditProductForm } from '../../context/EditProductContext';\r\nimport { editProduct } from '../../store/product';\r\n\r\nfunction EditProductForm({productId}) {\r\n    \r\n    const dispatch= useDispatch();\r\n    const history=useHistory()\r\n    const {editForm, setEditForm}=useEditProductForm()\r\n    const userId=useSelector(state=>state.session.user.id)\r\n    const currentProduct=useSelector(state=>state.product[productId])\r\n   \r\n    const[name, setName]=useState(currentProduct.name)\r\n    const[image, setImage]=useState(currentProduct.image)\r\n    const[location, setLocation]=useState(currentProduct.location)\r\n    const[description, setDescription]=useState(currentProduct.description)\r\n    const[price, setPrice]=useState(currentProduct.price)\r\n    const[category, setCategory]=useState(currentProduct.category)\r\n    const [lng, setLng] = useState(currentProduct.lng);\r\n\t  const [lat, setLat] = useState(currentProduct.lat);\r\n\r\n   useEffect(()=>{\r\n     dispatch(getProducts())\r\n   },[dispatch])\r\n\r\n\r\n    const handleSubmit= async(e)=>{\r\n        e.preventDefault();\r\n     \r\n        const payload={\r\n            sellerId: userId,\r\n            name,\r\n            image,\r\n            location,\r\n            description,\r\n            price,\r\n            category,\r\n            lng,\r\n            lat\r\n        }\r\n        const product=await dispatch(editProduct(payload, productId));\r\n        if(product) {\r\n            dispatch(getProducts())\r\n            setEditForm(false)\r\n            history.push(`/products/${product.id}`)\r\n        }\r\n       \r\n    }\r\n    return (\r\n        <form onSubmit={handleSubmit} >\r\n        <div  className='createProductContainer' style={{marginBottom:'3%'}}>\r\n          <label>\r\n            Name of your product\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            required\r\n            className='input-area'\r\n          />\r\n          \r\n          <label>\r\n            Image\r\n          </label>\r\n          <input\r\n            type=\"url\"\r\n            value={image}\r\n            onChange={(e) => setImage(e.target.value)}\r\n            required\r\n          />\r\n          \r\n          <label>\r\n            location\r\n          </label>\r\n          <select value={location} onChange={(e)=>setLocation(e.target.value)} className='input-area'>\r\n            <option value=\"Los Angeles\">Los Angeles</option>\r\n            <option value=\"New York City\">New York City</option>\r\n          </select>\r\n          \r\n          <label>\r\n            Longtitude\r\n          </label>\r\n          <input\r\n              type=\"number\"\r\n              required\r\n              value={lng}\r\n              onChange={(e) => setLng(e.target.value)}\r\n              className='input-area'\r\n            />\r\n          <label>\r\n            Latitude\r\n          </label>\r\n          <input\r\n              type=\"number\"\r\n              required\r\n              value={lat}\r\n              onChange={(e) => setLat(e.target.value)}\r\n              className='input-area'\r\n            />\r\n          <label>\r\n            description\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n            required\r\n            className='input-area'\r\n          />\r\n          \r\n          <label>\r\n            price\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            value={price}\r\n            onChange={(e) => setPrice(e.target.value)}\r\n            required\r\n            className='input-area'\r\n          />\r\n         \r\n          <label>\r\n            category\r\n          </label>\r\n          <select value={category} onChange={(e)=>setCategory(e.target.value)} className='input-area'>\r\n              <option value=\"Electronics & Media\" >Electronics & Media</option>\r\n              <option value=\"Home & Garden\"  >Home & Garden</option>\r\n              <option value=\"Clothing,Shoes,& Accessories\"  >Clothing,Shoes,& Accessories</option>\r\n          </select>\r\n          \r\n          <button type=\"submit\" className='submit-button'>\r\n            Confirm edit\r\n          </button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default EditProductForm","const ADD_REVIEW='review/addReview'\r\nconst LOAD_REVIEWS='review/loadReviews'\r\nconst DELETE_REVIEW='review/deleteReview'\r\n\r\nconst addReview=(review)=>({\r\n    type: ADD_REVIEW,\r\n    review\r\n})\r\n\r\nconst loadReviews=(reviews)=>({\r\n    type: LOAD_REVIEWS,\r\n    reviews\r\n})\r\n\r\nconst deleteReview=(reviewId)=>({\r\n    type: DELETE_REVIEW,\r\n    reviewId\r\n})\r\n\r\n\r\nexport const getReviews=(sellerId)=>async(dispatch)=>{\r\n    const response=await fetch(`/api/reviews/${sellerId}/`)\r\n    const reviews=await response.json()\r\n   \r\n    dispatch(loadReviews(reviews.reviews))\r\n}\r\nexport const createReview=(payload)=>async(dispatch)=>{\r\n   \r\n    const response=await fetch(`/api/reviews`,{\r\n        method: 'POST',\r\n        headers: {'Content-Type': 'application/json'},\r\n        body: JSON.stringify(payload)\r\n    } )\r\n\r\n    if(response.ok) {\r\n        const review=await response.json()\r\n        dispatch(addReview(review))\r\n        return review\r\n    }\r\n}\r\n\r\n\r\nexport const removeReview=(reviewId)=>async(dispatch)=>{\r\n    const response=await fetch(`/api/reviews/product/${reviewId}`, {\r\n        method: 'DELETE'\r\n    })\r\n    if(response.ok) {\r\n        const review=await response.json()\r\n        dispatch(deleteReview(review.id))\r\n    }\r\n    return response\r\n}\r\n\r\nexport const editReview=(payload,reviewId)=>async(dispatch)=>{\r\n    const response=await fetch(`/api/reviews/product/${reviewId}/edit`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload),\r\n    })  \r\n    \r\n    const updatedReview=await response.json()\r\n    dispatch(addReview(updatedReview))\r\n    return updatedReview\r\n}\r\n\r\nconst initialState={}\r\nconst reviewReducer=(state=initialState, action)=>{\r\n    switch(action.type) {\r\n        case LOAD_REVIEWS: {\r\n            const newState={};\r\n            \r\n            (action.reviews).forEach(review=>{\r\n                newState[review.id]=review\r\n            })\r\n            return newState\r\n        }\r\n        case ADD_REVIEW: {\r\n            const newState={...state}\r\n           \r\n            newState[action.review.id]=action.review\r\n            return newState\r\n        }\r\n        case DELETE_REVIEW: {\r\n            const newState={...state}\r\n            delete newState[action.reviewId]\r\n            return {...newState}\r\n        }\r\n     \r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reviewReducer","import { createContext, useState, useContext } from \"react\";\r\n\r\nexport const EditReviewContext=createContext()\r\nexport const useEditReviewForm=()=>useContext(EditReviewContext)\r\n\r\nexport default function EditReviewFormProvider(props) {\r\n    const [editReviewForm, setEditReviewForm]=useState(false)\r\n    return (\r\n        <EditReviewContext.Provider\r\n         value={{\r\n             editReviewForm,\r\n             setEditReviewForm\r\n         }}\r\n         >\r\n             {props.children}\r\n         </EditReviewContext.Provider>\r\n    )\r\n}","\r\n\r\nimport React, { useEffect }  from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useState } from 'react';\r\nimport { useHistory} from 'react-router';\r\nimport { createReview } from '../../store/review';\r\nimport { editReview } from '../../store/review';\r\nimport {Rating, RatingView} from 'react-simple-star-rating'\r\nimport { useEditReviewForm } from '../../context/EditReviewContext';\r\n\r\nfunction EditReviewForm({reviewId, seteditReview}){\r\n   \r\n    const {productId}=useParams()\r\n    const dispatch = useDispatch()\r\n    const history=useHistory()\r\n    const userId=useSelector(state=>state.session.user.id)\r\n    const currentProduct=useSelector(state=>state.product[productId])\r\n    const sellerId=currentProduct?.sellerId\r\n    const currentReview=useSelector(state=>state.review[reviewId])\r\n    const [rating, setRating]=useState(currentReview.rating)\r\n    const [comment, setComment]=useState(currentReview.comment)\r\n    const {EditReviewForm, setEditReviewForm}=useEditReviewForm()\r\n \r\n    const handleRating=(rate)=>{\r\n      setRating(rate)\r\n    }\r\n\r\n    const handleSubmit= async(e)=>{\r\n        e.preventDefault();\r\n     \r\n        const payload={\r\n          reviewerId:userId,\r\n          revieweeId:sellerId,\r\n          comment,\r\n          rating,\r\n        }\r\n        const review=await dispatch(editReview(payload,reviewId));\r\n        if(review) {\r\n            seteditReview(false)\r\n            history.push(`/products/${productId}`)\r\n        }\r\n\r\n    }\r\n    return(\r\n    <>\r\n        <form onSubmit={handleSubmit}>\r\n            <label>\r\n            comment\r\n            <input\r\n              type=\"text\"\r\n              value={comment}\r\n              onChange={(e) => setComment(e.target.value)}\r\n              required\r\n            />\r\n          </label>\r\n          <label>\r\n          rating\r\n          {/* <input\r\n            type=\"number\"\r\n            value={rating}\r\n            onChange={(e) => setRating(e.target.value)}\r\n            required\r\n          /> */}\r\n          <Rating onClick={handleRating} ratingValue={rating}/>\r\n        </label>\r\n        <button type=\"submit\" >\r\n          update your review\r\n        </button>\r\n     </form>\r\n    </>\r\n   )\r\n}\r\n\r\nexport default EditReviewForm","import { useSelector } from \"react-redux\"\r\nimport { removeReview } from \"../../store/review\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { useHistory } from \"react-router\"\r\nimport {useEditReviewForm} from '../../context/EditReviewContext'\r\nimport EditReviewForm from \"../EditReviewForm\"\r\nimport { useState } from \"react\"\r\nimport {Rating, RatingView} from 'react-simple-star-rating'\r\n\r\n\r\n\r\nfunction SingleReview({review, productId}){\r\n    const [editreview, seteditReview]=useState(false)\r\n   \r\n   \r\n    const dispatch = useDispatch()\r\n    const history=useHistory()\r\n    const currentUserId = useSelector(state => state.session.user.id)\r\n\r\n    const onClickDelete=async(e)=>{\r\n        e.preventDefault()\r\n        const reviewId=review.id\r\n        const response=await dispatch(removeReview(reviewId))\r\n        if(response) {\r\n            history.push(`/products/${productId}`)\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\nreturn (\r\n    <>\r\n    <div style={{fontSize:'1.5rem', inlineSize:'300px'}}>\r\n        <div>{review?.comment}</div>\r\n        <RatingView ratingValue={review?.rating} size='2rem'/>\r\n        {review?.reviewerId==currentUserId&& (\r\n            <div>\r\n                <button onClick={()=>seteditReview(true)} style={{border:'1px solid',borderColor:'#00a87e', backgroundColor:'#ffffff', borderRadius:'4px'}}>edit review</button>\r\n                <button onClick={onClickDelete} style={{border:'1px solid',borderColor:'#00a87e', backgroundColor:'#ffffff', borderRadius:'4px'}}>delete review</button>\r\n                {editreview &&(\r\n                    <EditReviewForm reviewId={review.id} seteditReview={seteditReview} />\r\n                )}\r\n            </div>\r\n        )}\r\n    </div>\r\n    </>\r\n)\r\n}\r\n\r\nexport default SingleReview","\r\n\r\nimport React, { useEffect }  from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useState } from 'react';\r\nimport { useHistory} from 'react-router';\r\nimport { createReview } from '../../store/review';\r\nimport {Rating, RatingView} from 'react-simple-star-rating'\r\nimport './CreateReviewForm.css'\r\n\r\n\r\n\r\nfunction CreateReviewForm(){\r\n   \r\n    const {productId}=useParams()\r\n    const dispatch = useDispatch()\r\n    const history=useHistory()\r\n    const userId=useSelector(state=>state.session.user.id)\r\n    const currentProduct=useSelector(state=>state.product[productId])\r\n    const sellerId=currentProduct?.sellerId\r\n    // const seller=useSelector(state=>state.user[sellerId])\r\n    const [rating, setRating]=useState(0)\r\n    const [comment, setComment]=useState('')\r\n\r\n   const handleRating=(rate)=>{\r\n     setRating(rate)\r\n   }\r\n\r\n  \r\n    const handleSubmit= async(e)=>{\r\n        e.preventDefault();\r\n     \r\n        const payload={\r\n          reviewerId:userId,\r\n          revieweeId:sellerId,\r\n          comment,\r\n          rating,\r\n        }\r\n        const review=await dispatch(createReview(payload));\r\n        if(review) {\r\n            history.push(`/products/${productId}`)\r\n        }\r\n        setComment('')\r\n        setRating(0)\r\n    }\r\n    return(\r\n    <>\r\n        <form onSubmit={handleSubmit}>\r\n              <div className='createReviewContainer'>\r\n                  <label>\r\n                    comment\r\n                  </label>\r\n                  <textarea\r\n                    type=\"text\"\r\n                    value={comment}\r\n                    onChange={(e) => setComment(e.target.value)}\r\n                    required\r\n                    style={{height:'5rem', borderRadius:'5px'}}\r\n                  />\r\n                \r\n                  <label>\r\n                    rating\r\n                  </label>\r\n                \r\n                  <Rating onClick={handleRating} ratingValue={rating} size='2rem'/>\r\n                  \r\n                  <button type=\"submit\" className='askContainer'>\r\n                    Submit your review\r\n                  </button>\r\n        </div>\r\n     </form>\r\n    </>\r\n   )\r\n}\r\n\r\nexport default CreateReviewForm","// import { io } from 'socket.io-client';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getMessages } from '../../store/message';\r\nimport { useParams } from 'react-router-dom';\r\nimport {getUsers} from'../../store/user'\r\nimport './DirectMessage.css'\r\nimport ChatForm from '../ChatForm/ChatForm';\r\nimport { useHistory } from \"react-router\";\r\nimport './DirectMessage.css'\r\nimport { createMessage } from '../../store/message';\r\n// let socket;\r\n\r\nconst DirectMessage= ()=>{\r\n  \r\n  const [setMessages] = useState([])\r\n  const [chatInput, setChatInput] = useState(\"\");\r\n  const user = useSelector(state => state.session.user)\r\n  const dispatch = useDispatch()\r\n  const [messageInput, setMessageInput] = useState(\"\");\r\n  const userId=user.id\r\n  const history=useHistory()\r\n\r\n\r\n  const senderId=useSelector(state=>state.session.user.id)\r\n  const {receiverId}=useParams()\r\n\r\n\r\n\r\nconst messages= useSelector(state=>Object.values(state.message))\r\nconst users=useSelector(state=>state.user)\r\n// }\r\n\r\n\r\nuseEffect(()=>{\r\n    dispatch(getUsers())\r\n    dispatch(getMessages(senderId,receiverId))\r\n\r\n}, [dispatch,receiverId])\r\n\r\n// useEffect(()=>{\r\n//     dispatch(getMessages(senderId, receiverId))\r\n// },[])\r\n\r\n// useEffect(()=>{\r\n//     if(messageInput.length) {\r\n\r\n//         dispatch(getMessages(senderId,receiverId))\r\n//     }\r\n// },[messages])\r\n\r\n\r\n\r\n\r\n// useEffect(()=>{\r\n//     socket=io()\r\n//     socket.on('receiverId,senderId', async()=>{\r\n//         await dispatch(getMessages())\r\n//     })\r\n\r\n//     return (()=>{\r\n//         socket.disconnect()\r\n//     })\r\n// },[senderId, receiverId,dispatch])\r\n\r\n\r\nconst onSubmit = async(e) => {\r\n    e.preventDefault(e)\r\n    \r\n    const payload= {\r\n        \r\n        message: messageInput, \r\n        senderId:userId,\r\n        receiverId};\r\n    \r\n       const message=await dispatch(createMessage(payload))\r\n       if(message) {\r\n           history.push(`/messages/sender/${userId}/receiver/${receiverId}`)\r\n            \r\n       }\r\n       setMessageInput(\"\")\r\n   \r\n}\r\n\r\nreturn (user && (\r\n    <div className='DMContainer'>\r\n        \r\n        <div className='msgPortion' >\r\n            {messages?.map((message) => (\r\n                <div className='singleMessage'>\r\n                <div className='messageContainer'>\r\n                <div>\r\n                <span style={{ color: 'gray', fontSize: '10px'}}>{new Date(message.createdAt).toLocaleString()}</span>\r\n                <div>{users[message.senderId]?.username}: </div>\r\n                </div>\r\n                <div >{message.message}</div>\r\n                </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n        <div className='formPortion'>\r\n            <form onSubmit={onSubmit} className='messageform' style={{width:'400px'}}>\r\n    \r\n                <input\r\n                type='text'\r\n                placeholder='Message'\r\n                value={messageInput}\r\n                onChange={(e)=>setMessageInput(e.target.value)}\r\n                style={{width:'400px', height:'70px',backgroundColor:'white'}}\r\n                />\r\n                <div style={{display:'flex', justifyContent:'flex-end', alignItems:'flex-end',vh:'5px'}}>\r\n                <button  type=\"submit\" style={{height:'1.5rem', width:'3rem', fontWeight:'400', position:'absolute', zIndex:'999',border:'1px solid',backgroundColor:'#00a87e', backgroundColor:'#04AA6D',borderRadius:'4px',marginTop:'2%',width:'100px'}}>Send</button>\r\n                </div>\r\n            </form>\r\n            {/* <div style={{ display: 'flex', justifyContent: 'end', marginTop: '-40px'}}> */}\r\n            {/* </div> */}\r\n       </div>\r\n      \r\n    </div>\r\n)\r\n)\r\n}\r\n\r\nexport default DirectMessage","const LOAD_API_KEY='map/LOAD_API_KEY';\r\n\r\nconst loadApiKey=(key)=>({\r\n    type: LOAD_API_KEY,\r\n    payload: key,\r\n})\r\n\r\nexport const getKey=()=>async(dispatch)=>{\r\n    const response= await fetch(`/api/map/key`,{\r\n        method:'GET'\r\n    });\r\n\r\n    if(response.ok){\r\n        const data=await response.json();\r\n        dispatch(loadApiKey(data.key))\r\n    }\r\n}\r\n\r\nconst initialState={key: null};\r\n\r\nconst mapsReducer=(state=initialState, action)=>{\r\n    switch(action.type){\r\n        case LOAD_API_KEY:\r\n            return {key:action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default mapsReducer;","import React from 'react';\r\nimport { GoogleMap, useJsApiLoader, Marker } from \"@react-google-maps/api\";\r\n\r\n const Maps=({apiKey, currentProduct, GMapSetting})=>{\r\n     const {isLoaded}= useJsApiLoader({\r\n         id:'google-map-script',\r\n         googleMapsApiKey: apiKey,\r\n     });\r\n\r\n     const containerStyle={\r\n         width:'600px',\r\n         height:'300px'\r\n     };\r\n\r\n     const center={\r\n         lat:currentProduct.lat,\r\n         lng:currentProduct.lng\r\n     };\r\n\r\n     return (\r\n         <>\r\n            {currentProduct && isLoaded && (\r\n                <>\r\n                    <GoogleMap\r\n                        mapContainerStyle={containerStyle}\r\n                        center={center}\r\n                        zoom={GMapSetting.zoom}\r\n                    >\r\n                        <Marker\r\n                            key={currentProduct.id}\r\n                            position={{\r\n                                lat: currentProduct.lat,\r\n                                lng: currentProduct.lng,\r\n                            }}\r\n                          \r\n                        />\r\n                    </GoogleMap>\r\n                </>\r\n            )}\r\n\r\n         </>\r\n     )\r\n }\r\n\r\n export default React.memo(Maps);","import { useEffect } from \"react\";\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport { getKey } from \"../../store/maps\";\r\nimport Maps from './maps'\r\n\r\nconst MapContainer=({currentProduct,GMapSetting})=>{\r\n    const key=useSelector((state)=>state.maps.key)\r\n   \r\n    const dispatch=useDispatch();\r\n\r\n    useEffect(()=>{\r\n        if(!key){\r\n            dispatch(getKey());\r\n        }\r\n    },[dispatch,key]);\r\n\r\n    if(!key) {\r\n        return null\r\n    }\r\n\r\n    return <Maps apiKey={key} currentProduct={currentProduct} GMapSetting={GMapSetting}/>\r\n}\r\n\r\nexport default MapContainer","\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { NavLink, Redirect, useHistory } from 'react-router-dom';\r\nimport {  useParams } from 'react-router';\r\nimport { useState, useEffect } from 'react';\r\nimport { getProducts, removeProduct } from '../../store/product';\r\nimport { getUsers } from '../../store/user';\r\nimport EditProductForm from '../EditProductForm/EditProduct';\r\nimport { useEditProductForm } from '../../context/EditProductContext';\r\nimport { getReviews } from '../../store/review';\r\nimport SingleReview from '../SingleReview';\r\nimport ChatForm from '../ChatForm/ChatForm';\r\nimport './OneProductPage.css'\r\nimport CreateReviewForm from '../CreateReviewForm';\r\nimport DirectMessage from '../DirectMessage/DirectMessage'\r\nimport MapContainer from '../Maps';\r\n\r\n\r\nconst OneProductPage=()=>{\r\n    // const [editForm, setEditForm]=useState(false)\r\n    const {editForm, setEditForm}=useEditProductForm()\r\n    const [chatForm, setChatForm]=useState(false)\r\n    const {productId}=useParams()\r\n   \r\n    const dispatch=useDispatch()\r\n    const history=useHistory()\r\n    const currentProduct=useSelector(state=>state.product[+productId])\r\n    \r\n   \r\n    const sellerId=currentProduct?.sellerId\r\n    const GMapSetting = {\r\n\t\twidth: \"900px\",\r\n\t\theight: \"400px\",\r\n\t\tlat: currentProduct?.lat,\r\n\t\tlng: currentProduct?.lng,\r\n\t\tzoom: 11,\r\n\t};\r\n    \r\n\r\n    useEffect(()=>{\r\n      dispatch(getProducts())\r\n     \r\n      dispatch(getUsers())\r\n        \r\n    }, [dispatch])\r\n\r\n    useEffect(()=>{\r\n        if (currentProduct ){\r\n        dispatch(getReviews(currentProduct.sellerId))}\r\n    },[currentProduct]\r\n    )\r\n\r\n\r\n\r\n    const reviews=useSelector((state)=>Object.values(state.review))\r\n    // let totalrating=0;\r\n    // for (let i=0; i<reviews.length; i++) {\r\n    //     totalrating+=reviews[i].rating\r\n    // }\r\n    // const averagerating=totalrating/(reviews.legnth)\r\n    \r\n    \r\n    // const sellerId=useSelector(state=>state.product[productId])[sellerId]\r\n    const productSeller=useSelector(state=>state.user[currentProduct?.sellerId])\r\n    const sesseionUser=useSelector(state=>state.session.user)\r\n    const sellerName=productSeller?.username\r\n   \r\n    \r\n    const onClickDelete=async(e)=>{\r\n        e.preventDefault()\r\n       const response=await dispatch(removeProduct(productId))\r\n        if(response) {history.push('/')}\r\n    }\r\n\r\n    return (\r\n        <div >\r\n            \r\n        {currentProduct&&(\r\n            <>\r\n        \r\n        {/* <NavLink to={`/spots/${spot.id}`}>{spot?.name}</NavLink> */}\r\n       \r\n        {/* //{spot?.url} */}\r\n        <div>\r\n            <div className='mainContainer' style={{marginTop:'8%'}}>\r\n                <div className='productContainer'>\r\n                    <div style={{color: '#121212', fontWeight:'900', lineHeight:'1.333333', fontSize:'1.5rem'}}>{currentProduct?.name}</div>\r\n                    <div style={{lineHeight:'1.333', fontWeight:'900', fontSize:'1.3rem'}}>${currentProduct?.price}</div>\r\n                    <div className='product-location' >{currentProduct?.location}</div>\r\n                    <div className='product-category' >{currentProduct?.category}</div>\r\n                    <div style={{gridTemplateColumns:'repeat 1fr'}}>\r\n                    <img src={(currentProduct?.image)} className='product-image'/>\r\n                    <img src={(currentProduct?.image)} className='product-image' />\r\n                    <img src={(currentProduct?.image)} className='product-image' />\r\n                    </div>\r\n                    {/* <div>${currentProduct?.price}</div>\r\n                    <div>{currentProduct?.location}</div> */}\r\n                    {/* <div>{currentProduct?.name}</div> */}\r\n                    <div style={{color:'#121212', fontSize:'1.5rem', fontWeight:'500', lineHeight:'1.5'}}>Description</div>\r\n                    <div className='description-content'>{currentProduct?.description}</div>\r\n                    <div style={{marginBottom:'5%', marginTop:'5%'}}>\r\n                        <MapContainer currentProduct={currentProduct} GMapSetting={GMapSetting}/>\r\n                    </div>\r\n                    {(sesseionUser?.id==productSeller?.id)&&(\r\n                        <>\r\n                            <div style={{display:'flex', marginTop:'1%', marginBottom:'3%'}}>\r\n                                <button onClick={()=>setEditForm(true)} className='editButton'>edit</button>\r\n                                <button onClick={onClickDelete} className='deleteButton'>delete</button>\r\n                            </div>\r\n                            {editForm &&(\r\n                                <EditProductForm productId={productId}/>\r\n                            )}\r\n                        </>\r\n                    )\r\n                    }\r\n                   \r\n                </div>\r\n                <div className='sellerContainer'>\r\n                    {/* <div>{currentProduct?.name}</div>\r\n                    <div>${currentProduct?.price}</div>\r\n                    <div>{currentProduct?.location}</div>\r\n                    <div>{currentProduct?.category}</div> */}\r\n                    \r\n                    {/* <div>sold by {productSeller?.username}  </div> */}\r\n                    \r\n                    <button   onClick={()=>setChatForm(true)} className='askContainer'>\r\n                        <NavLink style={{textDecoration:'none'}} to={`/messages/sender/${sesseionUser?.id}/receiver/${productSeller?.id}`}>\r\n                            Message Seller\r\n                            </NavLink>\r\n                    </button>\r\n                    \r\n                  \r\n                    <div className='sellerPortion'>\r\n                        <div style={{display:'flex',flexDirection:'column', alignItems:'center'}}>\r\n                            <img src={(productSeller?.profilePic)} style={{height:\"100px\",width:'100px', borderRadius:'50%', objectFit:'cover'}} />\r\n                            <div style={{fontSize:'15px'}}>{productSeller?.username}</div>\r\n                        </div>\r\n                        <div>\r\n                            <div className='seller-info' >Sold {productSeller?.sold}</div>\r\n                            <div className='seller-info' >Bought {productSeller?.bought}</div>\r\n                            <div className='seller-info' >reviews ({reviews.length})</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className='reviews-container'>\r\n                        {reviews.map((review)=>(\r\n                            \r\n                            <SingleReview review={review} key={review.id} productId={productId}/>\r\n                            \r\n                        ))}\r\n                    </div>\r\n                    <CreateReviewForm />\r\n                </div>\r\n            </div>\r\n           \r\n            \r\n        </div>\r\n      \r\n        {/* {(spot?.Images)[0].url}  */}\r\n        </>)}\r\n      \r\n        \r\n    </div>\r\n    )\r\n}\r\n\r\nexport default OneProductPage","import { AiFillLinkedin } from 'react-icons/ai';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport * as sessionActions from \"../../store/session\"\r\n\r\nfunction LandingPage() {\r\n\r\n    const dispatch=useDispatch()\r\n    const onClick = (e) => {\r\n        e.preventDefault();\r\n        return dispatch(sessionActions.login('demo@aa.io', 'password'))\r\n    \r\n      }\r\n return (\r\n     <>\r\n       <div style={{display:'flex', marginTop:'3.5%'}}>\r\n           <img src='https://i.imgur.com/ZLHGhCu.png' style={{width:'60%', borderRadius:'5px',marginRight:'3%'}}></img>\r\n           <div style={{textAlign:'center', width:'40%', height:'10%',marginTop:'10%'}}>\r\n           <h2>Buy and sell locally</h2>\r\n           <h3>Trusted by users</h3>\r\n           \r\n           <button onClick={onClick} className='demoword' style={{ color:'#00a87e', height:'30%',cursor:'pointer',fontWeight:'bold'}}> Try Demo</button>\r\n           </div>\r\n       </div>\r\n\r\n       <div style={{display:'flex', justifyContent:'space-evenly', marginTop:'5%', marginLeft:'15%'}}>\r\n            <div style={{textAlign:'center'}}>\r\n                <div style={{width:'60%', fill:'#00a87e'}} ><i className=\"fas fa-funnel-dollar\" style={{color:'#00a87e'}} ></i></div>\r\n                <h4 style={{width:'60%', color:'#6b7177', fontWeight:'400'}}>create your listing in under just one minute.</h4>\r\n            </div>\r\n            <div style={{textAlign:'center'}}>\r\n                <div style={{width:'60%'}}><i className=\"fas fa-envelope-open-text\" style={{color:'#00a87e'}}></i></div>\r\n                <h4 style={{width:'60%', color:'#6b7177', fontWeight:'400'}}>direct message the seller for the transaction</h4>\r\n            </div>\r\n            <div style={{textAlign:'center'}}>\r\n                <div style={{width:'60%'}}><i class=\"fas fa-american-sign-language-interpreting\" style={{color:'#00a87e'}}></i></div>\r\n                <h4 style={{width:'60%', color:'#6b7177', fontWeight:'400'}}>real time authentic sellers review, so you can buy with confidence</h4>\r\n            </div>\r\n       </div>\r\n       <div style={{borderBottom:'1px #6b7177 solid', width:'73%',marginLeft:'14%', marginTop:'5%'}}></div>\r\n       <div style={{display:'flex',alignItems:'center', flexDirection:'column'}}>\r\n        <h4 style={{color:'#212326', width:'30%', textAlign:'center', fontSize:'1em', marginBottom:'1em', lineHeight:'1.5'}}>\"OfferGram is better than any other platform we've used, and we've played with them all.\"</h4>\r\n       <h5 style={{fontWeight:'700',color:'#42474c'}}>Selina Gosling, OfferGram user</h5>\r\n       <button onClick={onClick} className='demoword' style={{ color:'#00a87e', height:'30%',cursor:'pointer',fontWeight:'bold'}}> Try Demo</button>\r\n       </div>\r\n\r\n       {/* <div style={{borderBottom:'1px #6b7177 solid', width:'73%',marginLeft:'14%', marginTop:'5%'}}></div> */}\r\n\r\n       <footer style={{backgroundColor:'#00a87e',paddingBottom:'3%', color:'white', width:'100vw'}}>\r\n                        <h2 style={{textAlign:'center', marginTop:'5%'}}>Technologies used</h2>\r\n                        <div style={{display:'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',rowGap:'30PX', columnGap:'20px', textAlign:'center', marginTop:'5%'}}>\r\n                        <div>\r\n                            <i className=\"devicon-python-plain tech\">Python</i>\r\n                        </div>\r\n                        <div>\r\n                            <i className=\"devicon-javascript-plain tech\">JavaScript</i>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <i className=\"devicon-react-original tech\">React</i>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <i className=\"devicon-redux-original tech\" >Redux</i>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <i className=\"devicon-html5-plain tech\">HTML</i>\r\n                        </div >\r\n\r\n                        <div>\r\n                            <i className=\"devicon-css3-plain tech\">CSS</i>\r\n                        </div >\r\n\r\n                        <div>\r\n                            <i className=\"devicon-flask-original tech\" >Flask</i>\r\n                        </div >\r\n\r\n                        <div>\r\n                            <i className=\"devicon-postgresql-plain tech\" >PostgreSQL</i>\r\n                        </div >\r\n\r\n                        <div>\r\n                            <i className=\"devicon-sqlalchemy-plain tech\" >SQLAlchemy</i>\r\n                        </div >\r\n\r\n                        <div>\r\n                            <i className=\"devicon-docker-plain tech\">Docker</i>\r\n                        </div >\r\n                        </div>\r\n\r\n       </footer>\r\n\r\n       {/* <div>\r\n           <h2>my other projects</h2>\r\n           <a href='https://musichub-aa.herokuapp.com/'>\r\n               <img src='https://i.imgur.com/oSJSZc6.png' style={{width:'40%', height:'300px', borderRadius:'1%', marginRight:'15%'}}></img>\r\n           </a>\r\n           <a href='https://afternoon-fjord-07018.herokuapp.com/'>\r\n              <img src='https://i.imgur.com/n50nx0e.png' style={{width:'40%', height:'300px', borderRadius:'1%'}}></img>\r\n           </a>\r\n       </div> */}\r\n\r\n        {/* <div style={{borderBottom:'1px #6b7177 solid', width:'73%',marginLeft:'14%', marginTop:'5%'}}></div>     */}\r\n\r\n       {/* <div style={{textAlign:'center'}}>\r\n            <h2>Contact</h2>\r\n            <h2>Yingjia Zhuo</h2>\r\n            <div>\r\n                <a href='https://github.com/zyingzhuo' target=\"_blank\" rel='noreferrer' style={  {textDecoration:'none'}}>\r\n                                <i className=\"fab fa-github fa-1x tech2\" ></i>\r\n                </a>\r\n\r\n                <a href='https://www.linkedin.com/in/yingjia-zhuo-25a474170/' target=\"_blank\" rel='noreferrer' style={{  textDecoration: 'none' }}>\r\n                    <i className=\"fab fa-linkedin fa-1x tech2\" ></i>\r\n                </a>\r\n            </div>\r\n\r\n       </div> */}\r\n\r\n        \r\n     </>\r\n )\r\n}\r\n\r\nexport default LandingPage","import { useEffect, useState } from \"react\";\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n\r\n\r\nimport { getQuery } from \"../../store/search\";\r\nimport SingleProduct from \"../AllProductsPage/SingleProduct\";\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction SearchResults() {\r\n   \r\n\r\n    // useEffect(()=>{\r\n    //     dispatch(getQuery())\r\n    // },[dispatch])\r\n    const products=useSelector(state=>state.search.products.products)\r\n   \r\n\r\n    return(\r\n        <>\r\n        <div className='productsContainer' style={{marginTop:'9%'}}>\r\n       {products?.map((product)=>(\r\n           <SingleProduct product={product}/>\r\n       ))}\r\n       </div>\r\n       </>\r\n    )\r\n}\r\n\r\nexport default SearchResults","import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport LoginForm from './components/auth/LoginForm';\r\nimport SignUpForm from './components/auth/SignUpForm';\r\nimport NavBar from './components/NavBar';\r\nimport ProtectedRoute from './components/auth/ProtectedRoute';\r\nimport UsersList from './components/UsersList';\r\nimport User from './components/User';\r\nimport { authenticate } from './store/session';\r\nimport CreateProductForm from './components/CreateProductForm';\r\nimport AllProducts from './components/AllProductsPage/AllProducts';\r\nimport SingleProduct from './components/AllProductsPage/SingleProduct';\r\nimport OneProductPage from './components/OneProductPage';\r\nimport CreateReviewForm from './components/CreateReviewForm';\r\nimport Search from './components/Search';\r\nimport LandingPage from './components/LandingPage/LandingPage';\r\nimport { useSelector } from 'react-redux';\r\nimport DirectMessage from './components/DirectMessage/DirectMessage';\r\nimport SearchResults from './components/Search/SearchResults';\r\n\r\nfunction App() {\r\n  const [loaded, setLoaded] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const sessionUser=useSelector(state=>state.session.user)\r\n\r\n  useEffect(() => {\r\n    (async() => {\r\n      await dispatch(authenticate());\r\n      setLoaded(true);\r\n    })();\r\n  }, [dispatch]);\r\n\r\n  if (!loaded) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <NavBar />\r\n      <Switch>\r\n       <ProtectedRoute path='/messages/sender/:senderId/receiver/:receiverId' exact={true}>\r\n        <DirectMessage />\r\n        </ProtectedRoute>\r\n        <ProtectedRoute path=\"/search\" exact={true}>\r\n        <SearchResults />\r\n        </ProtectedRoute>\r\n        <ProtectedRoute path=\"/selling\" exact={true}>\r\n        <CreateProductForm />\r\n        </ProtectedRoute>\r\n        <Route path='/' exact={true}>\r\n        {sessionUser ? (<AllProducts />):(<LandingPage />)}\r\n        \r\n        </Route>\r\n        {/* <ProtectedRoute path=\"/products\" exact={true}>\r\n        </ProtectedRoute> */}\r\n        <ProtectedRoute path='/products/:productId' exact={true} >\r\n       \r\n          <OneProductPage/>\r\n        </ProtectedRoute>\r\n        <Route path='/login' exact={true}>\r\n          <LoginForm />\r\n        </Route>\r\n        <Route path='/sign-up' exact={true}>\r\n          <SignUpForm />\r\n        </Route>\r\n        <ProtectedRoute path='/users' exact={true} >\r\n          <UsersList/>\r\n        </ProtectedRoute>\r\n        <ProtectedRoute path='/users/:userId' exact={true} >\r\n          \r\n          <User />\r\n        </ProtectedRoute>\r\n        {/* <ProtectedRoute path='/' exact={true} >\r\n          <h1>My Home Page</h1>\r\n        </ProtectedRoute> */}\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport session from './session'\r\nimport productReducer from './product'\r\nimport userReducer from './user'\r\nimport reviewReducer from './review'\r\nimport messageReducer from './message';\r\nimport searchReducer from './search';\r\nimport maps from './maps';\r\n\r\nconst rootReducer = combineReducers({\r\n  session,\r\n  product:productReducer,\r\n  user:userReducer,\r\n  review: reviewReducer,\r\n  message: messageReducer,\r\n  search: searchReducer,\r\n  maps\r\n});\r\n\r\n\r\nlet enhancer;\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  enhancer = applyMiddleware(thunk);\r\n} else {\r\n  const logger = require('redux-logger').default;\r\n  const composeEnhancers =\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n  enhancer = composeEnhancers(applyMiddleware(thunk, logger));\r\n}\r\n\r\nconst configureStore = (preloadedState) => {\r\n  return createStore(rootReducer, preloadedState, enhancer);\r\n};\r\n\r\nexport default configureStore;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport './index.css';\r\nimport App from './App';\r\nimport configureStore from './store';\r\nimport EditProductFormProvider from './context/EditProductContext';\r\nimport EditReviewFormProvider from './context/EditReviewContext';\r\n\r\nconst store = configureStore();\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <EditProductFormProvider>\r\n      <EditReviewFormProvider>\r\n        <App />\r\n      </EditReviewFormProvider>\r\n      </EditProductFormProvider>\r\n      </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}